<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Cadastro de Cursos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 16px;
      font-family: Arial, Helvetica, sans-serif;
      background: linear-gradient(180deg, #020617, #0f172a);
      color: #e5e7eb;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 24px;
      background: #020617;
      border-radius: 12px;
      box-shadow: 0 20px 40px rgba(0,0,0,.4);
    }

    h1 {
      margin: 0 0 20px 0;
      font-size: 22px;
    }

    .nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .nav button {
      width: auto;
      padding: 8px 14px;
    }

    .counter {
      font-size: 14px;
      opacity: .8;
    }

    input, textarea, select, button {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      border-radius: 6px;
      border: none;
      font-size: 14px;
    }

    input, textarea, select {
      background: #020617;
      color: #e5e7eb;
      border: 1px solid #334155;
    }

    textarea { min-height: 80px; resize: vertical; }

    .row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    .actions {
      display: flex;
      gap: 10px;
      margin-top: 24px;
    }

    .actions button {
      height: 40px;
    }

    .danger { background: #dc2626; }
    .secondary { background: #334155; }

    .hidden { display: none; }

    @media (max-width: 768px) {
      .row { grid-template-columns: 1fr; }
      .actions { flex-direction: column; }
    }
  </style>
</head>

<body>

<script src="/js/igc-config.js"></script>

<div class="container">

  <h1>Cadastro de Cursos</h1>

  <!-- NAVEGAÇÃO -->
  <div class="nav">
    <button onclick="prev()">◀</button>
    <div class="counter" id="contador">0 de 0</div>
    <button onclick="next()">▶</button>
  </div>

  <!-- FORM -->
  <input type="hidden" id="cursoId">

  <input id="nome" placeholder="Nome do curso" disabled>
  <input id="turma" placeholder="Turma" disabled>

  <div class="row">
    <input id="carga" placeholder="Carga horária" disabled>
    <select id="ativo" disabled>
      <option value="TRUE">Ativo</option>
      <option value="FALSE">Inativo</option>
    </select>
  </div>

  <input id="local" placeholder="Local do curso" disabled>
  <input id="data" placeholder="Data / Horário" disabled>

  <textarea id="obs" placeholder="Observações" disabled></textarea>

  <input id="modelo" placeholder="ID Modelo Certificado" disabled>
  <input id="planilha" placeholder="ID da Planilha Google" disabled>

  <!-- AÇÕES -->
  <div class="actions">
    <button class="secondary" onclick="novo()">Novo</button>
    <button onclick="editar()">Editar</button>
    <button onclick="salvar()">Salvar</button>
    <button class="danger" onclick="excluir()">Excluir</button>
  </div>

</div>

<script>
let cursos = [];
let index = 0;
let modo = "view";

function preencher(c) {
  cursoId.value = c.id || "";
  nome.value = c.nome || "";
  turma.value = c.turma || "";
  carga.value = c.carga || "";
  local.value = c.local || "";
  data.value = c.data || "";
  obs.value = c.obs || "";
  ativo.value = c.ativo ? "TRUE" : "FALSE";
  modelo.value = c.modelo || "";
  planilha.value = c.planilha || "";

  contador.innerText = `${index + 1} de ${cursos.length}`;
}

function bloquear(b) {
  document.querySelectorAll("input, textarea, select")
    .forEach(el => el.disabled = b);
}

function prev() {
  if (index > 0) index--;
  preencher(cursos[index]);
}

function next() {
  if (index < cursos.length - 1) index++;
  preencher(cursos[index]);
}

function novo() {
  modo = "novo";
  bloquear(false);
  document.querySelectorAll("input, textarea").forEach(e => e.value = "");
}

function editar() {
  modo = "editar";
  bloquear(false);
}

function salvar() {
  // backend entra depois
  bloquear(true);
}

function excluir() {
  if (!confirm("Excluir este curso?")) return;
  // backend entra depois
}
</script>

</body>
</html>

